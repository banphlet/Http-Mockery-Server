# Overview
- Provides a number of express middlewares to make logging your experience much simpler by taking advantage the fastest logger in nodejs :) [pino](https://github.com/pinojs/pino)
- Logging [checklist](https://github.com/kudobuzz/tech-guides/blob/master/checklist/logging.md)


### Todo 
- Add correlation ids to global log or parent log

### Installation
```
npm install @kudobuzz/pino-logger
```

### Usage
### Log every request middleware
logs requests is formatted to match  [google stack driver HttpRequest format](https://cloud.google.com/logging/docs/reference/v2/rpc/google.logging.type#google.logging.type.HttpRequest)

```
const express = require('express');
const expressLogger = require('@kudobuzz/express-bunyan-logger');

const app = express();

const options = {
  serviceName: 'service-name',
}
const logger = expressLogger(options);
app.use(logger.reqResLogger())

```
#### Log every error middleware

```
const express = require('express');
const expressLogger = require('@kudobuzz/express-bunyan-logger');

const app = express();
const options = {
  serviceName: 'service-name',
}

const logger = expressLogger(options)
app.use(logger.errorLogger())

```


### Options
| param | description |
|-|-| 
| serviceName(required) | name of service |
| enabled | Enable service or not eg. true or false |
| destination | Destination for logs, it should be a WritableStream |

```
const express = require('express');
const expressLogger = require('@kudobuzz/express-bunyan-logger');

const app = express();
const options = {
  serviceName: 'service-name',
}

const logger = expressLogger(options)
app.use(logger.errorLogger())

```
